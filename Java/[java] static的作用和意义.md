# static 静态修饰符

　　在程序中任何变量或者代码都是在编译时由系统自动分配内存来存储的。static修饰符表示静态的，在类加载时Jvm会把它放到**方法区**，被本类以及本类的所有实例所共用。在编译后所分配的内存会**一直存在**，直到程序退出内存才会释放这个空间。如果一个被所有实例共用的方法被申明为static，那么就可以节省空间，不用每个实例初始化的时候都被分配到内存。

> java类被加载过程

>类装载器把一个类装入Java虚拟机中，要经过三个步骤来完成：
>①加载（以二进制形式来生成Class对象）
>②链接（又分为验证、准备和解析）
>　　　　校验：检查导入类或接口的二进制数据的正确性；
>　　　　准备：给类的静态变量分配并初始化存储空间；
>　　　　解析：将符号引用转成直接引用；
>③初始化（激活类的静态变量和静态代码块、初始化Java代码）


##静态变量

　　Static关键字修饰成员变量被称为静态变量（也叫作类变量，同时　局部变量也能被声明为static），静态变量在内存中只有一个拷贝（节省内存，方便对象之间共享值），JVM只为静态分配一次内存，在加载类的过程中完成静态变量的内存分配，可用类名直接访问（当然也可以通过对象来访问）。因为静态变量被类的所有实例共用，所以非线程安全的。

　　未被Static修饰的成员变量叫作实例变量，每创建一个实例，就会为实例变量分配一次内存，实例变量在内存中可以有多个拷贝（但互相不影响，更加灵活）。

```
//静态变量的申明
private static int count = 0;
public static String str;
```
## 静态方法

　　静态方法可以直接通过类名调用，任何的实例也都可以调用。　
　　**只能**访问所属类的静态成员变量和成员方法，静态方法中也不能用this和super关键字。
　　类似于静态变量，静态方法也属于类，不属于实例的。

```
//静态方法的申明
public static void s(int param) {
......    
}
```

## 静态代码块　

　　静态代码块就是在类加载器加载对象时，要执行的一组语句。静态块只会在类加载到内存中的时候执行一次，位置可以随便放，如果static代码块有多个，JVM将按照它们在类中出现的先后顺序依次执行它们，每个代码块只会被执行一次。

```
static{
    //在类被加载的时候用于初始化资源，仅能访问静态变量和静态方法
    System.out.println("StaticExample static block");
}
```

## 静态类

　　**只能在内部类中定义静态类**，静态内部类与外层类绑定，即使没有创建外层类的对象，它一样存在。
　　静态类的方法可以是静态的方法也可以是非静态的方法，静态的方法可以在外层通过静态类调用，而非静态的方法必须要创建类的对象之后才能调用。
　　只能引用外部类的static成员变量（也就是类变量）。


　　如果一个内部类不是被定义成静态内部类，那么在定义成员变量或者成员方法的时候，是不能够被定义成静态的。
　　


```
public class OuterClass {  
    public static class InnerClass{  
        InnerClass(){  
            System.out.println("静态内部类");  
        }  
    }  
}  
```

　　